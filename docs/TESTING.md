# ë°±ì—”ë“œ B (API) í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ

## ğŸš€ ìµœì¢… ì ê²€ ë°©ë²• (1ë¶„)

```bash
# ì„œë²„ ì‹¤í–‰ (í„°ë¯¸ë„ 1)
npm run dev

# ëª¨ë“  API í…ŒìŠ¤íŠ¸ (í„°ë¯¸ë„ 2)
npm run test:all-apis
```

**ê²°ê³¼**: 13ê°œ APIê°€ ëª¨ë‘ ì •ìƒ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸ âœ…

---

## ğŸ“‹ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸

### 1. `npm run test:all-apis` â­ **ì¶”ì²œ**

**ëª¨ë“  APIë¥¼ í•œ ë²ˆì— í…ŒìŠ¤íŠ¸**

í…ŒìŠ¤íŠ¸ í•­ëª©:
- Health, Metrics
- íˆ¬í‘œ ê´€ë¦¬ (ìƒì„±, ëª©ë¡, ìƒì„¸, ê³µê°œ, ê²°ê³¼)
- ì‚¬ìš©ì ê´€ë¦¬ (ë“±ë¡, ë¡œê·¸ì¸)
- íˆ¬í‘œ ì œì¶œ, ê²°ê³¼ ì¡°íšŒ
- ì´ë²¤íŠ¸ ë™ê¸°í™”, Relayer

### 2. `npm run smoke`

**5ì¼€ì´ìŠ¤ ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸**
- ì •ìƒ ì¼€ì´ìŠ¤
- ì¤‘ë³µ ì¼€ì´ìŠ¤
- nullifier ì¬ì‚¬ìš©
- ê°€ìŠ¤ ë¶€ì¡±
- RPC ì§€ì—°

### 3. `npm run test:e2e`

**20íšŒ ì—°ì† E2E í…ŒìŠ¤íŠ¸**
- Health Check â†’ íˆ¬í‘œ ìƒì„± â†’ ì‚¬ìš©ì ë“±ë¡ â†’ íˆ¬í‘œ ì œì¶œ â†’ ê²°ê³¼ ì¡°íšŒ

### 4. `npm run test:100`

**100ê±´ ì§‘ê³„ í…ŒìŠ¤íŠ¸**
- ì¬íˆ¬í‘œ ì œì™¸ ì§‘ê³„ ì •í™•ë„ í™•ì¸

### 5. `npm run test:distributed`

**ë¶„ì‚° í™˜ê²½ í…ŒìŠ¤íŠ¸**
- 10íšŒ ì—°ì† OK í™•ì¸

---

## âœ… ìµœì¢… ì ê²€ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì„œë²„ ì‹¤í–‰ ì „
- [ ] `.env` íŒŒì¼ ì„¤ì • (DB_URI í•„ìˆ˜)
- [ ] MongoDB ì—°ê²° í™•ì¸

### ì„œë²„ ì‹¤í–‰
- [ ] `npm run dev` ì‹¤í–‰
- [ ] Health Check: `curl http://localhost:3000/api/health`
- [ ] ì˜ˆìƒ ì‘ë‹µ: `{"ok":true,"db":"connected"}`

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- [ ] `npm run test:all-apis` ì‹¤í–‰
- [ ] ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼ í™•ì¸
- [ ] ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ê°€ ìˆìœ¼ë©´ ë¡œê·¸ í™•ì¸

---

## ğŸ“Š API í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€

| API                    | test:all-apis | smoke | e2e |
| ---------------------- | ------------- | ----- | --- |
| Health                 | âœ…            | âŒ    | âœ…  |
| Metrics                | âœ…            | âŒ    | âœ…  |
| POST /polls            | âœ…            | âœ…    | âœ…  |
| GET /polls              | âœ…            | âŒ    | âŒ  |
| GET /polls/:id          | âœ…            | âŒ    | âŒ  |
| GET /polls/:id/public   | âœ…            | âŒ    | âœ…  |
| GET /polls/:id/results  | âœ…            | âŒ    | âœ…  |
| POST /vote/create       | âœ…            | âœ…    | âœ…  |
| GET /vote/results       | âœ…            | âŒ    | âŒ  |
| POST /user/register     | âœ…            | âœ…    | âœ…  |
| POST /user/login        | âœ…            | âŒ    | âŒ  |
| POST /event/sync        | âœ…            | âŒ    | âŒ  |
| POST /relay             | âœ…            | âœ…    | âŒ  |

**ê²°ë¡ **: `test:all-apis` í•˜ë‚˜ë¡œ ëª¨ë“  APIë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤! âœ…

---

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2024-10-XX
